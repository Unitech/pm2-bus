!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Spiderlink=e()}}(function(){return function e(t,n,r){function s(i,c){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!c&&u)return u(i,!0);if(o)return o(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)s(r[i]);return s}({1:[function(e,t,n){var r=e("debug")("ws-bus"),s=e("./socket"),o=e("events").EventEmitter,i=e("./util"),c=function(e){if("string"==typeof e){var t=e;(e={}).namespace=t}else e||(e={});this.namespace=e.namespace||"global:",this.url=e.url||"ws://localhost:12046",this.socket=new s(this.url,null,e),this.subscriptions={},this.emitter=new o,this.socket.onmessage=this._onMessage.bind(this),this.socket.onreconnect=this._onReconnect.bind(this),this.methods={},this.rpc_id=0};c.prototype.publish=function(e,t){var n={type:"message",channel:e,data:t};this._send(n)},c.prototype.subscribe=function(e,t){var n={type:"subscribe",subscriptions:[e]};this._send(n),this._subscribe(e,t)},c.prototype.unsubscribe=function(e,t){var n={type:"subscribe",subscriptions:[e]};this._send(n),this._unsubscribe(e),t&&t()},c.prototype.unsubscribeAll=function(){for(var e in this.subscriptions)for(var t=this.subscriptions[e],n=0;n<t;n++)this.unsubscribe(e)},c.prototype.expose=function(e,t){var n=this;this.subscribe(this.namespace+e,function(r){var s=r.data,o=r.rpc_id;return t(s,function(t){n.publish(n.namespace+e+":"+o,t)})})},c.prototype.call=function(e,t,n){var r=this;"function"==typeof t&&(n=t),this.rpc_id++,this.publish(this.namespace+e,{data:t,rpc_id:this.rpc_id});var s=r.namespace+e+":"+this.rpc_id;this.subscribe(s,function(e){return r.unsubscribe(s),n(e)})},c.prototype.close=function(e,t){this.socket.close(e,t)},c.prototype._send=function(e){var t=JSON.stringify(e);this.socket.send(t)},c.prototype._subscribe=function(e,t){this.subscriptions[e]=this.subscriptions[e]||0,this.subscriptions[e]+=1,this.emitter.on(e,t)},c.prototype._unsubscribe=function(e){this.subscriptions[e]=this.subscriptions[e]||0,this.subscriptions[e]-=1,this.subscriptions[e]>0||this.emitter.removeAllListeners(e)},c.prototype._onMessage=function(e){var t=i.parseMessage(e.data);r("message %O",t),this.emitter.emit(t.channel,t.data)},c.prototype._onReconnect=function(){r("reconnect");var e=[];for(var t in this.subscriptions)this.subscriptions[t]<=0||e.push(t);var n={type:"subscribe",subscriptions:e};this._send(n)},t.exports=c},{"./socket":4,"./util":5,debug:7,events:9}],2:[function(e,t,n){var r=e("pmx").probe();n.serverProbes=function(){var e={};return e.clients_connected=r.counter({name:"Clients Conn."}),e.messages_per_min=r.meter({name:"msg/min",timeframe:60,samples:60}),e}},{pmx:6}],3:[function(e,t,n){var r=e("ws").Server,s=e("debug")("ws-bus"),o=e("./util"),i=(e("pmx"),{port:12046,debug:!1}),c=function(t){t||(t={}),t=o.merge(i,t),this.port=t.port,t.debug?this._debug=console.log.bind(console):this._debug=function(){},this.probes=e("./probes.js").serverProbes(),this._debug("pm2-pubsub listening on port:",this.port),this.wss=new r({port:this.port}),this.listen()};c.prototype.listen=function(){var e=this;this.wss.on("connection",function(t){t.subscriptions=t.subscriptions||{},e.probes.clients_connected.inc(),e._debug("connected client"),t.on("message",function(n){var r=o.parseMessage(n);e.handleIncomingMessage(t,r)})}),this.wss.on("error",function(e){console.error(e)}),this.wss.on("close",function(){e.probes.clients_connected.dec()})},c.prototype.handleIncomingMessage=function(e,t){if(this.validateMessage(t))switch(t.type){case"subscribe":return this.handleSubscribe(e,t);case"unsubscribe":return this.handleUnsubscribe(e,t);case"message":return this.handleMessage(e,t);default:s("wrong message: %j",t)}},c.prototype.handleSubscribe=function(e,t){e.subscriptions=e.subscriptions||{},t.subscriptions.forEach(function(t){e.subscriptions[t]=!0})},c.prototype.handleUnsubscribe=function(e,t){e.subscriptions=e.subscriptions||{},t.subscriptions.forEach(function(t){delete e.subscriptions[t]})},c.prototype.handleMessage=function(e,t){this.probes.messages_per_min.mark(),this.sendMessage(e,t)},c.prototype.sendMessage=function(e,t){var n=JSON.stringify(t);this.wss.clients.forEach(function(r){var s=r.subscriptions[t.channel];r!==e&&s&&r.send(n)})},c.prototype.validateMessage=function(e){return!0},t.exports=c},{"./probes.js":2,"./util":5,debug:7,pmx:6,ws:6}],4:[function(e,t,n){function r(e,t){return Math.random()*(t-e)+e}var s=e("ws"),o=e("debug")("ws-bus"),i="function"!=typeof s?WebSocket:s,c={debug:!1,automaticOpen:!0,reconnectOnError:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null,randomRatio:3,reconnectOnCleanClose:!1},u=function(e,t,n){t||(t=[]),n||(n=[]),this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this._url=e,this._protocols=t,this._options=Object.assign({},c,n),this._messageQueue=[],this._reconnectAttempts=0,this.readyState=this.CONNECTING,"function"==typeof this._options.debug?this._debug=this._options.debug:this._options.debug?this._debug=console.log.bind(console):this._debug=function(){},this._options.automaticOpen&&this.open()};u.prototype.open=function(){o("open");var e=this._socket=new i(this._url,this._protocols);this._options.binaryType&&(e.binaryType=this._options.binaryType),this._options.maxReconnectAttempts&&this._options.maxReconnectAttempts<this._reconnectAttempts||(this._syncState(),e.onmessage=this._onmessage.bind(this),e.onopen=this._onopen.bind(this),e.onclose=this._onclose.bind(this),e.onerror=this._onerror.bind(this))},u.prototype.send=function(e){o("send"),this._socket&&this._socket.readyState===i.OPEN&&0===this._messageQueue.length?this._socket.send(e):this._messageQueue.push(e)},u.prototype.close=function(e,t){o("close"),void 0===e&&(e=1e3),this._socket&&this._socket.close(e,t)},u.prototype._onmessage=function(e){o("onmessage"),this.onmessage&&this.onmessage(e)},u.prototype._onopen=function(e){o("onopen"),this._syncState(),this._flushQueue(),0!==this._reconnectAttempts&&this.onreconnect&&this.onreconnect(),this._reconnectAttempts=0,this.onopen&&this.onopen(e)},u.prototype._onclose=function(e){o("onclose"),this._syncState(),this._debug("WebSocket: connection is broken",e),this.onclose&&this.onclose(e),this._tryReconnect(e)},u.prototype._onerror=function(e){o("onerror",e),this._socket.close(),this._syncState(),this._debug("WebSocket: error",e),this.onerror&&this.onerror(e),this._options.reconnectOnError&&this._tryReconnect(e)},u.prototype._tryReconnect=function(e){var t=this;e.wasClean&&!this._options.reconnectOnCleanClose||setTimeout(function(){t.readyState!==t.CLOSING&&t.readyState!==t.CLOSED||(t._reconnectAttempts++,t.open())},this._getTimeout())},u.prototype._flushQueue=function(){for(;0!==this._messageQueue.length;){var e=this._messageQueue.shift();this._socket.send(e)}},u.prototype._getTimeout=function(){var e=this._options.reconnectInterval*Math.pow(this._options.reconnectDecay,this._reconnectAttempts);return e=e>this._options.maxReconnectInterval?this._options.maxReconnectInterval:e,this._options.randomRatio?r(e/this._options.randomRatio,e):e},u.prototype._syncState=function(){this.readyState=this._socket.readyState},t.exports=u},{debug:7,ws:6}],5:[function(e,t,n){var r=e("debug")("ws-bus"),s=e("util")._extend;n.parseMessage=function(e){var t={};try{t=JSON.parse(e)}catch(t){r("error parsing message:",e)}return t},n.merge=function(e,t){return s(e,t)}},{debug:7,util:14}],6:[function(e,t,n){},{}],7:[function(e,t,n){(function(r){function s(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),t){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var s=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(s++,"%c"===e&&(o=s))}),e.splice(o,0,r)}}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function u(){var e;try{e=n.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(n=t.exports=e("./debug")).log=i,n.formatArgs=o,n.save=c,n.load=u,n.useColors=s,n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(u())}).call(this,e("_process"))},{"./debug":8,_process:11}],8:[function(e,t,n){function r(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}function s(e){function t(){if(t.enabled){var e=t,r=+new Date,s=r-(a||r);e.diff=s,e.prev=a,e.curr=r,a=r;for(var o=new Array(arguments.length),i=0;i<o.length;i++)o[i]=arguments[i];o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,r){if("%%"===t)return t;c++;var s=n.formatters[r];if("function"==typeof s){var i=o[c];t=s.call(e,i),o.splice(c,1),c--}return t}),n.formatArgs.call(e,o),(t.log||n.log||console.log.bind(console)).apply(e,o)}}return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=r(e),"function"==typeof n.init&&n.init(t),t}function o(e){n.save(e),n.names=[],n.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),r=t.length,s=0;s<r;s++)t[s]&&("-"===(e=t[s].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function i(){n.enable("")}function c(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}(n=t.exports=s.debug=s.default=s).coerce=u,n.disable=i,n.enable=o,n.enabled=c,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var a},{ms:10}],9:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function c(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],c(n))return!1;if(s(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(i(n))for(o=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,u=0;u<r;u++)a[u].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!s(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(n=c(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!s(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,c;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||s(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(c=o;c-- >0;)if(n[c]===t||n[c].listener&&n[c].listener===t){r=c;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],s(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(s(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],10:[function(e,t,n){function r(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*p;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function s(e){return e>=l?Math.round(e/l)+"d":e>=a?Math.round(e/a)+"h":e>=u?Math.round(e/u)+"m":e>=c?Math.round(e/c)+"s":e+"ms"}function o(e){return i(e,l,"day")||i(e,a,"hour")||i(e,u,"minute")||i(e,c,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var c=1e3,u=60*c,a=60*u,l=24*a,p=365.25*l;t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return r(e);if("number"===n&&!1===isNaN(e))return t.long?o(e):s(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],11:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(p===setTimeout)return setTimeout(e,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===s||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function c(){g&&d&&(g=!1,d.length?m=d.concat(m):y=-1,m.length&&u())}function u(){if(!g){var e=o(c);g=!0;for(var t=m.length;t;){for(d=m,m=[];++y<t;)d&&d[y].run();y=-1,t=m.length}d=null,g=!1,i(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var p,f,h=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(e){p=r}try{f="function"==typeof clearTimeout?clearTimeout:s}catch(e){f=s}}();var d,m=[],g=!1,y=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new a(e,t)),1!==m.length||g||o(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],12:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],13:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],14:[function(e,t,n){(function(t,r){function s(e,t){var r={seen:[],stylize:i};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(t)?r.showHidden=t:t&&n._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,e,r.depth)}function o(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function i(e,t){return e}function c(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,t,r){if(e.customInspect&&t&&L(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var s=t.inspect(r,e);return v(s)||(s=u(e,s,r)),s}var o=a(e,t);if(o)return o;var i=Object.keys(t),m=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),O(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return l(t);if(0===i.length){if(L(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(O(t))return l(t)}var y="",b=!1,_=["{","}"];if(d(t)&&(b=!0,_=["[","]"]),L(t)&&(y=" [Function"+(t.name?": "+t.name:"")+"]"),x(t)&&(y=" "+RegExp.prototype.toString.call(t)),S(t)&&(y=" "+Date.prototype.toUTCString.call(t)),O(t)&&(y=" "+l(t)),0===i.length&&(!b||0==t.length))return _[0]+y+_[1];if(r<0)return x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var w;return w=b?p(e,t,r,m,i):i.map(function(n){return f(e,t,r,m,n,b)}),e.seen.pop(),h(w,y,_)}function a(e,t){if(w(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return b(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,s){for(var o=[],i=0,c=t.length;i<c;++i)N(t,String(i))?o.push(f(e,t,n,r,String(i),!0)):o.push("");return s.forEach(function(s){s.match(/^\d+$/)||o.push(f(e,t,n,r,s,!0))}),o}function f(e,t,n,r,s,o){var i,c,a;if(a=Object.getOwnPropertyDescriptor(t,s)||{value:t[s]},a.get?c=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(c=e.stylize("[Setter]","special")),N(r,s)||(i="["+s+"]"),c||(e.seen.indexOf(a.value)<0?(c=g(n)?u(e,a.value,null):u(e,a.value,n-1)).indexOf("\n")>-1&&(c=o?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n")):c=e.stylize("[Circular]","special")),w(i)){if(o&&s.match(/^\d+$/))return c;(i=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+c}function h(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return null==e}function b(e){return"number"==typeof e}function v(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function w(e){return void 0===e}function x(e){return E(e)&&"[object RegExp]"===A(e)}function E(e){return"object"==typeof e&&null!==e}function S(e){return E(e)&&"[object Date]"===A(e)}function O(e){return E(e)&&("[object Error]"===A(e)||e instanceof Error)}function L(e){return"function"==typeof e}function k(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function A(e){return Object.prototype.toString.call(e)}function j(e){return e<10?"0"+e.toString(10):e.toString(10)}function C(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var M=/%[sdj%]/g;n.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,i=String(e).replace(M,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),c=r[n];n<o;c=r[++n])g(c)||!E(c)?i+=" "+c:i+=" "+s(c);return i},n.deprecate=function(e,s){function o(){if(!i){if(t.throwDeprecation)throw new Error(s);t.traceDeprecation?console.trace(s):console.error(s),i=!0}return e.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(e,s).apply(this,arguments)};if(!0===t.noDeprecation)return e;var i=!1;return o};var T,z={};n.debuglog=function(e){if(w(T)&&(T=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!z[e])if(new RegExp("\\b"+e+"\\b","i").test(T)){var r=t.pid;z[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else z[e]=function(){};return z[e]},n.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=y,n.isNumber=b,n.isString=v,n.isSymbol=_,n.isUndefined=w,n.isRegExp=x,n.isObject=E,n.isDate=S,n.isError=O,n.isFunction=L,n.isPrimitive=k,n.isBuffer=e("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",C(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":13,_process:11,inherits:12}],"/":[function(e,t,n){var r=e("./lib/client"),s=e("./lib/server"),o={clients:[],createClient:function(e){if("string"==typeof e){var t=e;(e={}).namespace=t}else e||(e={namespace:"global:"});if(e.namespace||(e.namespace="global:"),!this.clients[e.namespace]||!0===e.forceNew){var n=new r(e);return this.clients[e.namespace]=n,n}return this.clients[e.namespace]},createServer:function(e){return new s(e)}};t.exports=function(e){return"object"==typeof e&&1==e.server?o.createServer(e):o.createClient(e)}},{"./lib/client":1,"./lib/server":3}]},{},[])("/")});
